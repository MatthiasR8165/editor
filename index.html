<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PET-ID Editor ‚Äì FINAL</title>

<meta name="theme-color" content="#d8b48a">
  
<!-- üêæ Icons -->
<link rel="shortcut icon" href="/assets/icons/favicon.ico?v=editor">
<link rel="icon" type="image/x-icon" href="/assets/icons/favicon.ico?v=editor">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32.png?v=editor">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16.png?v=editor">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-touch-icon.png?v=editor">

<style>
:root{
  --bg:#f6f6f6;
  --card:#ffffff;
  --accent:#d8b48a;
  --text:#2b2b2b;
  --muted:#777;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,"Segoe UI",Roboto,Arial;
  background:var(--bg);
  color:var(--text);
}

.wrapper{max-width:1200px;margin:auto;padding:24px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:24px}
@media(max-width:900px){.grid{grid-template-columns:1fr}}

.card{
  background:var(--card);
  border-radius:18px;
  padding:24px;
  box-shadow:0 6px 20px rgba(0,0,0,.06)
}

h2{margin:0 0 16px}

label{
  display:block;
  margin:14px 0 6px;
  font-size:14px;
  font-weight:600;
}

input,textarea{
  width:100%;
  padding:12px 14px;
  border-radius:12px;
  border:1px solid #ccc;
  font-size:15px;
}

textarea{resize:vertical;min-height:70px}
input[type=file]{padding:10px}

button{
  width:100%;
  margin-top:12px;
  padding:16px;
  border:none;
  border-radius:14px;
  background:#4caf50;
  color:#fff;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
}

.error{
  background:#ffe5e5;
  color:#a40000;
  padding:12px;
  border-radius:12px;
  margin-bottom:12px;
  display:none;
}
</style>
</head>

<body>

<div class="wrapper">

<div class="error" id="errorBox"></div>

<div class="grid">

<!-- META -->
<div class="card">
<h2>Meta</h2>
<label>Name *</label><input id="name">
<label>PET-ID *</label><input id="pet_id">
<label>Untertitel</label><input id="subtitle">
<label>Bild</label><input type="file" id="image">
</div>

<!-- TIER -->
<div class="card">
<h2>Tier</h2>
<label>Tierart *</label><input id="species">
<label>Geschlecht *</label><input id="gender">
<label>Geburtsdatum</label><input id="birthdate">
<label>Farbe</label><input id="color">
<label>Rasse</label><input id="breed">
<label>Kastriert</label><input id="castrated">
<label>Freig√§nger</label><input id="outdoor">
<label>Gechippt</label><input id="chipped">
<label>Geimpft</label><input id="vaccinated">
<label>Mikrochip</label><input id="microchip">
<label>Hinweis</label><textarea id="note"></textarea>
</div>

<!-- BESITZER -->
<div class="card">
<h2>Besitzer 1</h2>
<label>Name</label><input id="o1_name">
<label>Telefon</label><input id="o1_phone">
<label>E-Mail</label><input id="o1_email">
</div>

<div class="card">
<h2>Besitzer 2</h2>
<label>Name</label><input id="o2_name">
<label>Telefon</label><input id="o2_phone">
<label>E-Mail</label><input id="o2_email">
</div>

<!-- TIERARZT -->
<div class="card">
<h2>Tierarzt</h2>
<label>Praxis</label><input id="vet_practice">
<label>Arzt</label><input id="vet_doctor">
<label>Telefon</label><input id="vet_phone">
<label>E-Mail</label><input id="vet_email">
<label>Website</label><input id="vet_website">
</div>

<!-- NOTFALL -->
<div class="card">
<h2>Notfall</h2>
<label>Klinik</label><input id="em_clinic">
<label>Adresse</label><textarea id="em_address"></textarea>
<label>Telefon</label><input id="em_phone">
<label>Hinweis</label><input id="em_note">
</div>

<!-- ZUHAUSE -->
<div class="card">
<h2>Zuhause</h2>
<label>Adresse</label><textarea id="home"></textarea>
</div>

<!-- EXPORT -->
<div class="card" style="grid-column:1/-1">
<button onclick="generate()">index.html erzeugen</button>
</div>

</div>
</div>

<script>
let imageFile=null;
image.onchange=e=>imageFile=e.target.files[0];

function generate(){
  const err=[];
  if(!name.value.trim()) err.push("Name fehlt");
  if(!pet_id.value.trim()) err.push("PET-ID fehlt");
  if(!species.value.trim()) err.push("Tierart fehlt");
  if(!gender.value.trim()) err.push("Geschlecht fehlt");

  if(err.length){
    errorBox.innerHTML="‚ùó Bitte ausf√ºllen:<br>"+err.join("<br>");
    errorBox.style.display="block";
    return;
  }

  errorBox.style.display="none";

  const v = x => x && x.trim() !== "" ? x : null;
  const row = (l,v)=>v?`<div class="row"><div>${l}</div><div><b>${v}</b></div></div>`:"";

  const html=`<!DOCTYPE html>
<html lang="de"><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>${name.value} ‚Äì PET-ID</title>
<style>
body{font-family:system-ui;background:#f6f6f6;margin:0}
.container{max-width:520px;margin:auto;padding:16px}
.card{background:#fff;border-radius:18px;padding:20px;margin-bottom:16px}
.header{text-align:center}
.header img{width:200px;height:200px;border-radius:50%;border:6px solid #d8b48a;object-fit:cover}
.row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #eee}
.footer{text-align:center;color:#777;font-size:14px}
</style></head>
<body><div class="container">

<div class="card header">
${imageFile?`<img src="${imageFile.name}">`:""}
<h2>${name.value}</h2>
<div>PET-ID: ${pet_id.value}</div>
${v(subtitle.value)?`<div>${subtitle.value}</div>`:""}
</div>

<div class="card">
${row("Tierart",species.value)}
${row("Geschlecht",gender.value)}
${row("Geburtsdatum",birthdate.value)}
${row("Farbe",color.value)}
${row("Rasse",breed.value)}
${row("Kastriert",castrated.value)}
${row("Freig√§nger",outdoor.value)}
${row("Gechippt",chipped.value)}
${row("Geimpft",vaccinated.value)}
${row("Mikrochip",microchip.value)}
${row("Hinweis",note.value)}
</div>

<div class="footer">
<a href="https://www.pet-id.page/impressum.html">Impressum</a> ¬∑
<a href="https://www.pet-id.page/datenschutz.html">Datenschutz</a><br>
Zuletzt aktualisiert: ${new Date().toLocaleDateString("de-CH")}<br>
‚ù§Ô∏è Danke f√ºrs Nachschauen
</div>

</div></body></html>`;

  const blob=new Blob([html],{type:"text/html"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="index.html";
  a.click();
}
</script>

</body>
</html>
